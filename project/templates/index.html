<!DOCTYPE html>

<html lang="en">
    <header>
        <meta http-equiv="refresh" content="10">
        <script
            src="https://code.jquery.com/jquery-2.2.4.js"integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <style>
            .header {
                background-color: #3936eb;
                color: rgb(255, 255, 255);
                margin-bottom: 2rem;
                padding: 4rem 10rem;
                text-align: center

}
        </style>
        <title>
            Messenger
        </title>

    </header>
    <body>
        <script>
            setInterval(refresh, 1000);
            
            function refresh() {
                $.get('/messages')
            }
            
        </script>
        <div class="header" style="font-size: xx-large;">
            Messages
        </div>
        <table class="table table-striped">
            <tr>
                <td>Message</td>
                <td>Time</td>
            </tr>
        </table>
        <table class="table table-striped">
            {% for row in message %}
                <tr>
                    {% for column in row %}
                        <td>{{ column }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
        <form action="/new" method="post">
            <input id="new" name="new" placeholder="Message" autofocus autocomplete="off" type="text"mautofocus class="form-control mx-auto w-auto">
        </form>
    </body>
</html>